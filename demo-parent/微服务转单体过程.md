## 微服务转单体过程

1.将注册中心，配置中心nacos的依赖去除

```xml
        <!--         nacos注册中心依赖包 -->
        <dependency>
            <groupId>com.alibaba.cloud</groupId>
            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
        </dependency>
        <!-- nacos配置中心依赖包 -->
        <dependency>
            <groupId>com.alibaba.cloud</groupId>
            <artifactId>spring-cloud-starter-alibaba-nacos-config</artifactId>
        </dependency>
```

2.去除启动类的@EnableDiscoveryClient注解

3.修改网关gateway的配置文件，将routes：uri：改成http形式

如下：

```yml
      routes: #??????
        - id: auth
          uri: http://localhost:9401
#          uri: lb://demo-oauth2-auth
          predicates:
            - Path=/demo-oauth2-auth/**,/oauth/token,/rsa/**
          filters:
            - StripPrefix=1
        - id: api
          uri: http://localhost:8081
#          uri: lb://test-api
          predicates:
            - Path=/test-api/**,/test/**,/user/test/**
          filters:
            - StripPrefix=1
```

